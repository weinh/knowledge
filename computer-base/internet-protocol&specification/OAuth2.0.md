# OAuth2.0
OAuth是关于授权的开放网络标准，目前版本是2.0

# 对比1.0版本
1. 授权过程比1.0更简洁
2. 全程使用https，保证安全的同时，又省去了1.0中对每个token都要加密的要求
3. 2.0针对客户端的各种类型，提出了多种获取访问令牌的途径

# 为什么使用OAuth
传统的认证模式，存在以下几个问题

1. 第三方应用需要存储资源所有者的账号密码，以便将来再次使用，而且通常会以明文的方式存储
2. 第三方应用能访问资源所有者全部的受保护资源，资源所有者无法约束其访问者的期限以及能够访问的资源边界
3. 资源所有者无法单独取消个别第三方应用的访问权限，要么全部允许，要么全部不许

使用OAuth，可以解决以上问题，第三方应用是通过access token访问资源的，access token定义了资源边界以及访问时间等限制

# OAuth2.0基本流程
## OAuth涉及对象
1. Client第三方应用
2. Resource Owner资源所有者，即用户
3. Authorization Server授权服务器，即提供第三方登录服务的服务器，比如微博QQ等
4. Resource Server资源服务器，拥有资源的服务器，一般和授权服务器是同一应用

## 大致流程
1. 第三方应用请求用户授权
2. 用户同意授权，并返回一个凭证（code）
3. 第三方服务器通过凭证（code）去授权服务器获取授权
4. 授权通过返回访问凭证（access_token）
5. 第三方通过访问凭证（access_token）向资源服务器请求相关资源
6. 资源服务器请求通过，返回响应的资源给第三方应用

# 第三方登录
一般通过以上第四步后可以通过资源服务器提供的接口获取用户基本信息，其中有一个是用户标识，然后如果是第一次授权引导用户注册或者系统自行注册，然后将第三方应用的用户标识和OAuth提供方的标识关联起来，后续后面就可以实现自动登录的功能